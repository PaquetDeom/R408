/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
ALTER TABLE ECHAFAUDAGE DROP CONSTRAINT FK_ECHAFAUDAGE_CONSTRUCTEUR_COCOID
ALTER TABLE ELEMENT DROP CONSTRAINT FK_ELEMENT_CONSTRUCTEUR_COCOID
ALTER TABLE ADRESSE DROP CONSTRAINT FK_ADRESSE_ADCOID
ALTER TABLE CHANTIER DROP CONSTRAINT FK_CHANTIER_ADRESSE_ADADID
ALTER TABLE CHANTIER DROP CONSTRAINT FK_CHANTIER_ECHAFAUDAGE_ECECID
ALTER TABLE CLIENT DROP CONSTRAINT FK_CLIENT_ADRESSE_ADADID
ALTER TABLE PROJET DROP CONSTRAINT FK_PROJET_CHANTIER_CHCHID
ALTER TABLE PROJET DROP CONSTRAINT FK_PROJET_RESP_REREID
ALTER TABLE PROJET DROP CONSTRAINT FK_PROJET_CLIENT_CLCLID
ALTER TABLE ECHAFAUDAGE_ELEMENT DROP CONSTRAINT FK_ECHAFAUDAGE_ELEMENT_Echafaudage_ECECID
ALTER TABLE ECHAFAUDAGE_ELEMENT DROP CONSTRAINT FK_ECHAFAUDAGE_ELEMENT_elements_ELELID
ALTER TABLE CLIENT_PROJET DROP CONSTRAINT FK_CLIENT_PROJET_Client_CLCLID
ALTER TABLE CLIENT_PROJET DROP CONSTRAINT FK_CLIENT_PROJET_projets_ID
ALTER TABLE RESPONSABLE_PROJET DROP CONSTRAINT FK_RESPONSABLE_PROJET_projets_ID
ALTER TABLE RESPONSABLE_PROJET DROP CONSTRAINT FK_RESPONSABLE_PROJET_Responsable_REREID
DROP TABLE Constructeur
DROP TABLE ECHAFAUDAGE
DROP TABLE ELEMENT
DROP TABLE ADRESSE
DROP TABLE CHANTIER
DROP TABLE CLIENT
DROP TABLE COMMUNE
DROP TABLE PROJET
DROP TABLE RESPONSABLE
DROP TABLE ECHAFAUDAGE_ELEMENT
DROP TABLE CLIENT_PROJET
DROP TABLE RESPONSABLE_PROJET
CREATE TABLE Constructeur (COCOID INTEGER NOT NULL, COCONA VARCHAR(50), PRIMARY KEY (COCOID))
CREATE TABLE ECHAFAUDAGE (ECECID BIGINT NOT NULL, CLASSE VARCHAR(255), TYPE VARCHAR(255), TYPESOL VARCHAR(255), CONSTRUCTEUR_COCOID INTEGER, PRIMARY KEY (ECECID))
CREATE TABLE ELEMENT (ELELID VARCHAR(50) NOT NULL, ELELNA VARCHAR(50), ELELPO REAL, POSITION INTEGER, ELELSU REAL, TELEMENT VARCHAR(255), ELELTY INTEGER, CONSTRUCTEUR_COCOID INTEGER, PRIMARY KEY (ELELID))
CREATE TABLE ADRESSE (ADADID BIGINT NOT NULL, ADADAD1 VARCHAR(100), ADADAD2 VARCHAR(100), ADADAD3 VARCHAR(100), ADADAD4 VARCHAR(100), ADADMAIL VARCHAR(100), ADADTEL VARCHAR(20), ADCOID INTEGER, PRIMARY KEY (ADADID))
CREATE TABLE CHANTIER (CHCHID BIGINT NOT NULL, ADRESSE_ADADID BIGINT, ECHAFAUDAGE_ECECID BIGINT, PRIMARY KEY (CHCHID))
CREATE TABLE CLIENT (CLCLID BIGINT NOT NULL, CLCLNOM VARCHAR(20), CLCLPRENOM VARCHAR(50), ADRESSE_ADADID BIGINT, PRIMARY KEY (CLCLID))
CREATE TABLE COMMUNE (CMCMID INTEGER NOT NULL, CMCMCODE_COMMUNE VARCHAR(20), CMCMCOMMUNE VARCHAR(50), PRIMARY KEY (CMCMID))
CREATE TABLE PROJET (ID BIGINT NOT NULL, PRPRTI VARCHAR(20), CLIENT_CLCLID BIGINT, RESP_REREID BIGINT, CHANTIER_CHCHID BIGINT, PRIMARY KEY (ID))
CREATE TABLE RESPONSABLE (REREID BIGINT NOT NULL, RERENOM VARCHAR(20), REREPRENOM VARCHAR(50), PRIMARY KEY (REREID))
CREATE TABLE ECHAFAUDAGE_ELEMENT (Echafaudage_ECECID BIGINT NOT NULL, elements_ELELID VARCHAR(50) NOT NULL, PRIMARY KEY (Echafaudage_ECECID, elements_ELELID))
CREATE TABLE CLIENT_PROJET (Client_CLCLID BIGINT NOT NULL, projets_ID BIGINT NOT NULL, PRIMARY KEY (Client_CLCLID, projets_ID))
CREATE TABLE RESPONSABLE_PROJET (Responsable_REREID BIGINT NOT NULL, projets_ID BIGINT NOT NULL, PRIMARY KEY (Responsable_REREID, projets_ID))
ALTER TABLE ECHAFAUDAGE ADD CONSTRAINT FK_ECHAFAUDAGE_CONSTRUCTEUR_COCOID FOREIGN KEY (CONSTRUCTEUR_COCOID) REFERENCES Constructeur (COCOID)
ALTER TABLE ELEMENT ADD CONSTRAINT FK_ELEMENT_CONSTRUCTEUR_COCOID FOREIGN KEY (CONSTRUCTEUR_COCOID) REFERENCES Constructeur (COCOID)
ALTER TABLE ADRESSE ADD CONSTRAINT FK_ADRESSE_ADCOID FOREIGN KEY (ADCOID) REFERENCES COMMUNE (CMCMID)
ALTER TABLE CHANTIER ADD CONSTRAINT FK_CHANTIER_ADRESSE_ADADID FOREIGN KEY (ADRESSE_ADADID) REFERENCES ADRESSE (ADADID)
ALTER TABLE CHANTIER ADD CONSTRAINT FK_CHANTIER_ECHAFAUDAGE_ECECID FOREIGN KEY (ECHAFAUDAGE_ECECID) REFERENCES ECHAFAUDAGE (ECECID)
ALTER TABLE CLIENT ADD CONSTRAINT FK_CLIENT_ADRESSE_ADADID FOREIGN KEY (ADRESSE_ADADID) REFERENCES ADRESSE (ADADID)
ALTER TABLE PROJET ADD CONSTRAINT FK_PROJET_CHANTIER_CHCHID FOREIGN KEY (CHANTIER_CHCHID) REFERENCES CHANTIER (CHCHID)
ALTER TABLE PROJET ADD CONSTRAINT FK_PROJET_RESP_REREID FOREIGN KEY (RESP_REREID) REFERENCES RESPONSABLE (REREID)
ALTER TABLE PROJET ADD CONSTRAINT FK_PROJET_CLIENT_CLCLID FOREIGN KEY (CLIENT_CLCLID) REFERENCES CLIENT (CLCLID)
ALTER TABLE ECHAFAUDAGE_ELEMENT ADD CONSTRAINT FK_ECHAFAUDAGE_ELEMENT_Echafaudage_ECECID FOREIGN KEY (Echafaudage_ECECID) REFERENCES ECHAFAUDAGE (ECECID)
ALTER TABLE ECHAFAUDAGE_ELEMENT ADD CONSTRAINT FK_ECHAFAUDAGE_ELEMENT_elements_ELELID FOREIGN KEY (elements_ELELID) REFERENCES ELEMENT (ELELID)
ALTER TABLE CLIENT_PROJET ADD CONSTRAINT FK_CLIENT_PROJET_Client_CLCLID FOREIGN KEY (Client_CLCLID) REFERENCES CLIENT (CLCLID)
ALTER TABLE CLIENT_PROJET ADD CONSTRAINT FK_CLIENT_PROJET_projets_ID FOREIGN KEY (projets_ID) REFERENCES PROJET (ID)
ALTER TABLE RESPONSABLE_PROJET ADD CONSTRAINT FK_RESPONSABLE_PROJET_projets_ID FOREIGN KEY (projets_ID) REFERENCES PROJET (ID)
ALTER TABLE RESPONSABLE_PROJET ADD CONSTRAINT FK_RESPONSABLE_PROJET_Responsable_REREID FOREIGN KEY (Responsable_REREID) REFERENCES RESPONSABLE (REREID)
DELETE FROM SEQUENCE WHERE SEQ_NAME='SEQ_GEN'
COMMIT
INSERT INTO SEQUENCE VALUES('SEQ_GEN',0)
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
